<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-04-30 Thu 09:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Change Detection Using Machine Learning</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Braxton" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Change Detection Using Machine Learning</h1>
<p>
-<b>- mode: org -</b>-
</p>


<div id="outline-container-org779731e" class="outline-2">
<h2 id="org779731e">Useful Links</h2>
<div class="outline-text-2" id="text-org779731e">
</div>
<div id="outline-container-org1bf18c2" class="outline-3">
<h3 id="org1bf18c2"><a href="https://github.com/wenhwu/awesome-remote-sensing-change-detection">List of datasets, codes, papers and constests related to remote sensing change detection</a></h3>
</div>
</div>

<div id="outline-container-orgf8a674b" class="outline-2">
<h2 id="orgf8a674b">ML Methods to become familiar with</h2>
<div class="outline-text-2" id="text-orgf8a674b">
</div>
<div id="outline-container-orgce99ce4" class="outline-3">
<h3 id="orgce99ce4"><span class="todo TODO">TODO</span> LSTM blocks</h3>
</div>
</div>

<div id="outline-container-orgd764d74" class="outline-2">
<h2 id="orgd764d74">April 21, 2020</h2>
<div class="outline-text-2" id="text-orgd764d74">
</div>
<div id="outline-container-orgf69befd" class="outline-3">
<h3 id="orgf69befd">Initial Questions</h3>
<div class="outline-text-3" id="text-orgf69befd">
<div class="INFO">
<p>
&bull; What is QI data and how can it help us?
</p>

<p>
&bull; How will having mulitspectral images assist in change detection?
</p>

<p>
&bull; Am I stupid for not knowing where the x8 comes from in 10980x10980x8 that defines a certian .jp2 file?
</p>

</div>
</div>
</div>

<div id="outline-container-org0a9e9e9" class="outline-3">
<h3 id="org0a9e9e9">Done today</h3>
<div class="outline-text-3" id="text-org0a9e9e9">
<div class="info">
<p>
&bull; Created GitHub
</p>

<p>
&bull; Created progress/prep document
</p>

<p>
&bull; Finished intern orientation and necessary documents.
</p>

<p>
&bull; Created an account with USGS and downloaded some data
</p>

<p>
&bull; Read through some examples of U-nets in colab
</p>

</div>
</div>
</div>
<div id="outline-container-org0e9bbc8" class="outline-3">
<h3 id="org0e9bbc8">Understanding The Data</h3>
<div class="outline-text-3" id="text-org0e9bbc8">
</div>
<div id="outline-container-orgaa2ccd3" class="outline-4">
<h4 id="orgaa2ccd3">Sentinal-2 data</h4>
<div class="outline-text-4" id="text-orgaa2ccd3">
<div class="INFO">
<p>
&bull; 650MB file size.
</p>

<p>
&bull; One file for each of the 13 spectral bands plus metadata .jp2 filetype
</p>

<p>
&bull; 10980x10980x8
</p>

<p>
&bull; Use QI data to Georeference the data?
</p>

<p>
&bull; Maybe the GeoTIFF file could help.
</p>

</div>
</div>
</div>
</div>
<div id="outline-container-orgb29baff" class="outline-3">
<h3 id="orgb29baff">TODO</h3>
<div class="outline-text-3" id="text-orgb29baff">
<div class="note">
<p>
&bull; Add Brain and Ryan as contributers
</p>

<p>
&bull; Hopefully start using confluence and get VDI set up.
</p>

<p>
&bull; More research into what has been done regarding U-nets with complex images
</p>

<p>
&bull; More research into Change Detection Dataset
</p>

<p>
&bull; Get more of an idea as to what has already been done regarding this project
</p>

</div>
</div>
</div>
</div>


<div id="outline-container-orgfafccb1" class="outline-2">
<h2 id="orgfafccb1">April 22, 2020</h2>
<div class="outline-text-2" id="text-orgfafccb1">
</div>
<div id="outline-container-org6fd32ec" class="outline-3">
<h3 id="org6fd32ec">Questions</h3>
<div class="outline-text-3" id="text-org6fd32ec">
<div class="info">
<p>
&bull; CUDA issues
</p>

</div>
</div>
</div>
<div id="outline-container-org3c23bfd" class="outline-3">
<h3 id="org3c23bfd">Discussion</h3>
<div class="outline-text-3" id="text-org3c23bfd">
<div class="info">
<p>
&bull; Found GitHub <a href="https://github.com/mpapadomanolaki/UNetLSTM">code</a> that detects urban changes in sentinel-2 data (pytorch) (Uses GPU through CUDA platform)
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-orgdf00203" class="outline-2">
<h2 id="orgdf00203">April 23, 2020</h2>
<div class="outline-text-2" id="text-orgdf00203">
</div>
<div id="outline-container-orga3ff8db" class="outline-3">
<h3 id="orga3ff8db">Unet by zhixuhao</h3>
<div class="outline-text-3" id="text-orga3ff8db">
<div class="info">
<p>
&bull; Fully Implemetned into colab using google's GPU
<a href="https://colab.research.google.com/drive/13xPzNxzljETvH4ZwZE9nMV1bWY4G8iBd">link to google colab</a>- You might not have permissions to this
</p>

</div>
</div>
<div id="outline-container-org66e49b4" class="outline-4">
<h4 id="org66e49b4">Results</h4>
<div class="outline-text-4" id="text-org66e49b4">
<div class="info">
<p>
&bull; GPU train time: 996 seconds
</p>

<p>
&bull; CPU train time: Way too long
</p>

<p>
&bull; TPU train time: each epoch &asymp; 7 hours
</p>

<p>
TODO &bull; Find details of data for Brian
&bull; Te best answer Brian's question, we are taining 30 images where our
steps _per _epoch = 2000
</p>



<div id="org8907a91" class="figure">
<p><img src="./0.png" alt="0.png" width="200px" />
</p>
<p><span class="figure-number">Figure 1: </span>Actual 0</p>
</div>


<div id="orga559aa1" class="figure">
<p><img src="./0_predict.png" alt="0_predict.png" width="200px" />
</p>
<p><span class="figure-number">Figure 2: </span>Predicted 0</p>
</div>


<div id="orgc9906d6" class="figure">
<p><img src="./0.png" alt="0.png" width="200px" />
</p>
<p><span class="figure-number">Figure 3: </span>Actual 1</p>
</div>


<div id="orgecf8c74" class="figure">
<p><img src="./0_predict.png" alt="0_predict.png" width="200px" />
</p>
<p><span class="figure-number">Figure 4: </span>Predicted 1</p>
</div>

</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org93c6ea0" class="outline-2">
<h2 id="org93c6ea0">April 24, 2020</h2>
<div class="outline-text-2" id="text-org93c6ea0">
</div>
<div id="outline-container-orgfae60cf" class="outline-3">
<h3 id="orgfae60cf"><span class="todo TODO">TODO</span> Notes</h3>
<div class="outline-text-3" id="text-orgfae60cf">
<div class="info">
<p>

</p>

<p>
To answer Ryan's question The two training images are pngs with size 1.2MB 785x799
the masks are also pngs of dementions 785x799 but only around 11.0kB
</p>

<p>
zhinxuhao uses images that are pngs of dementions 512x512 and size of around 215kB and labels of
same demention size 15kB.
</p>

<p>
I feel that my next step is going to be reproducing zhixuhao's u-net with the onera dataset.
The onera dataset however comes with two images for every mask. So I am going to need to disect
the code and understand what changes I need to make so that we can change this mask prediction problem
to now input two images insted of the one to make it a change detection problem. This might take a sec.
</p>

<p>
This actually is almost impossible without a large change to the architecture of the neural net. I am
now looking at the Siamese network that has a change detection architecture. Good reaserch to do would be
looking into the diffrences between VGG16 and u-net maybe it would be cool to use u-net inseted of VGG16
</p>

<p>
Also a little note here for me to check out dice metric and IOU metric.
</p>

</div>
</div>
</div>
<div id="outline-container-org1349b70" class="outline-3">
<h3 id="org1349b70">Notes about code</h3>
<div class="outline-text-3" id="text-org1349b70">
<div class="info">
<p>
&bull; In Siamese-neural-network-for-change-detection they seem to do some sort of concatination to create
one large feature map - slide 9
</p>

<p>
<a href="https://github.com/vbhavank/Siamese-neural-network-for-change-detection">Link to Siamese NN code</a>
</p>

<p>
<a href="https://sigport.org/sites/default/files/docs/Siamese_Network_RIT_Nov2018_0.pdf">Link to slideshow explaining Siamese NN</a>
</p>

<p>
&bull; I think it would be a good idea to talk about slide 8(pre-trained on ImageNet?)(why pre-train it?)
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-org310f794" class="outline-2">
<h2 id="org310f794">April 27,2020</h2>
<div class="outline-text-2" id="text-org310f794">
</div>
<div id="outline-container-orgc9fdbff" class="outline-3">
<h3 id="orgc9fdbff">Colab resource limits</h3>
<div class="outline-text-3" id="text-orgc9fdbff">
<div class="info">
<p>
<a href="https://research.google.com/colaboratory/faq.html#resource-limits">Colab resource limits</a>
&bull; look into details about colab pro
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-org58df961" class="outline-2">
<h2 id="org58df961">April 28, 2020</h2>
<div class="outline-text-2" id="text-org58df961">
</div>
<div id="outline-container-orgdef1511" class="outline-3">
<h3 id="orgdef1511">The universal Workflow of machine learning</h3>
<div class="outline-text-3" id="text-orgdef1511">
</div>
<div id="outline-container-org48f9f35" class="outline-4">
<h4 id="org48f9f35">Defining the problem and assembling a dataset</h4>
<div class="outline-text-4" id="text-org48f9f35">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-org8890db3" class="outline-4">
<h4 id="org8890db3">Choosing a measure of success</h4>
<div class="outline-text-4" id="text-org8890db3">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-orga8338cd" class="outline-4">
<h4 id="orga8338cd">Deciding on a evaluation protocol</h4>
<div class="outline-text-4" id="text-orga8338cd">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-orgf1770ef" class="outline-4">
<h4 id="orgf1770ef">Preparing your data</h4>
<div class="outline-text-4" id="text-orgf1770ef">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-org9b314e1" class="outline-4">
<h4 id="org9b314e1">Developing a model that does better than  a baseline</h4>
<div class="outline-text-4" id="text-org9b314e1">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-org5e5a859" class="outline-4">
<h4 id="org5e5a859">Scaling up: developing a model that overfits</h4>
<div class="outline-text-4" id="text-org5e5a859">
<div class="info">
<p>

</p>

</div>
</div>
</div>
<div id="outline-container-org3843f80" class="outline-4">
<h4 id="org3843f80">Regularizing your model and tuning your hyperparameters</h4>
<div class="outline-text-4" id="text-org3843f80">
<div class="info">
<p>

</p>

</div>
</div>
</div>
</div>
<div id="outline-container-org0f1fad0" class="outline-3">
<h3 id="org0f1fad0">Random idea</h3>
<div class="outline-text-3" id="text-org0f1fad0">
<div class="info">
<p>
What if we did a unet for both of the images(this is assuming we had maskes for our data)
then just subracted the two masks? Would this not leave us with a mask of the changes?
</p>

</div>
</div>
</div>
</div>


<div id="outline-container-org90fe556" class="outline-2">
<h2 id="org90fe556">April 29, 2020</h2>
<div class="outline-text-2" id="text-org90fe556">
</div>
<div id="outline-container-orgabf3782" class="outline-3">
<h3 id="orgabf3782">Siamese Neural Networks</h3>
<div class="outline-text-3" id="text-orgabf3782">
<div class="info">
<p>
The Siamese Neural Network seems to be popular with One-Shot-Learning. It is a farely straight-forward NN that inputs
two images and runs both of them throught a CNN then flattens it and runs is through a dense nn with AF = Sigmoid.
It then calculates the abs() of the diffrence and uses that in one more Dense to classify it as two diffrent images
or the same image. I spent a few hours changing this algorithm to insted build an image out of the absolute diffrence
using a Unet architecture. This might not be possible but it is woth a try and I learned a lot in the process about U-nets and Siamese nets
<a href="https://colab.research.google.com/drive/1D2S5uOzTVreKS0yXBAVSxKfH-KjUHEf3?usp=sharing">Here is a link to this unfinished NN</a>
</p>

</div>
</div>
</div>
<div id="outline-container-org93beb6c" class="outline-3">
<h3 id="org93beb6c">Further Research</h3>
<div class="outline-text-3" id="text-org93beb6c">
<div class="info">
<p>
&bull; Dual attentive fully convolutional siamese networks for change detection of high-resolution satellite images
&bull; I think this is what we are looking for. I will spend some time tomorrow looking over this code and paper to see
how they use the siamese network to not only find the L2 distance and create and image from the distance.
</p>

</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Braxton</p>
<p class="date">Created: 2020-04-30 Thu 09:48</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
